---
title: "R Notebook"
output: html_notebook
---

```{r}
df <- read.csv(file='normalized_df.csv')
head(df)
```



```{r}
#install.packages("caret", dependencies=TRUE)
library(gbm)          # basic implementation
library(caret)

getModelInfo()$gbm$type

outcomeName <- 'outcome'
predictorsNames <- names(df)[names(df) != outcomeName]


df$outcome2 <- ifelse(df$outcome==1,'yes','no')
df$outcome2 <- as.factor(df$outcome2)
outcomeName <- 'outcome2'

```


```{r}
set.seed(1234)
splitIndex <- createDataPartition(df[,outcomeName], p = .85, list = FALSE, times = 1)
trainDF <- df[ splitIndex,]
testDF  <- df[-splitIndex,]

```

```{r}

objControl <- trainControl(method='cv', 
                           number=3, 
                           returnResamp='none', 
                           summaryFunction = twoClassSummary, 
                           classProbs = TRUE)

objModel <- train(trainDF[,predictorsNames], trainDF[,outcomeName], 
                  method='gbm', 
                  trControl=objControl,  
                  metric = "ROC",
                  preProc = c("center", "scale"))

summary(objModel)

```


```{r}
print(objModel)

```


```{r}

```

```{r}

```